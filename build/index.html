<meta name="viewport" content="width=device-width, initial-scale=1.0">

<input type=file onchange=doit(this.files[0])>
<audio ></audio>
<div id=pspace>kkk</pspace>

<script>
      audio=document.getElementsByTagName("audio")[0]  
lastpause=0
      
  function doit(f){
      url=URL.createObjectURL(f)
      console.log(url)
       audio.src=url
       audio.play()   
       audio.onended=function(){
             this.currentTime=0; this.play()
         } // onended
        audio.ontimeupdate=function(){
          var time=new Date().getTime()/1000
          if ((time-lastpause) > 1800) audio.pause()
        } // ontimeupdate

       document.getElementsByTagName("input")[0].outerHTML=''
       pspace=document.getElementById("pspace")
x=0

document.ontouchstart=function(e){
 e.preventDefault();

 start=new Date().getTime()/1000
} // touchstart
 
document.ontouchend=function(e){
e.preventDefault()
      end=new Date().getTime()/1000
      dif=end-start
      if (dif<.1)
          {if (audio.paused) {lastpause=new Date().getTime()/1000;
                      audio.currentTime-=5;audio.play()
                   } // if paused
else audio.pause()}
else { // if dif>.1
  audio.currentTime-=5
  audio.play()
}
  pspace.innerHTML="<hr>" +dif+" : "+(x++)+"<hr>"

} // touchend
        
        
  } // function doit()


</script>
